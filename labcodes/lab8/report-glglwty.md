#lab8实验报告
2012011282 计22 王天一
##练习1: 完成读文件操作的实现（需要编码）
###设计实现流程
首先查看第一块是否是完整的一块，如果是半块就用buf操作。然后对中间的整块用blk操作。然后对最后的半块用buf操作。
###问题
>请在实验报告中给出设计实现”UNIX的PIPE机制“的概要设方案，鼓励给出详细设计方案

linux的pipe不是设备，但是由于ucore的vfs没有挂载功能，所以pipe需要成为一个设备。但是这样pipe就只能固定数量了。所以还是得先实现挂载功能，在vfs中设定一个外挂文件列表，把所有的设备都按照固定的路径挂进去。找path的时候先在所有外挂设备中找一圈，找不到再去vfs里面找。新增加pipe设备，里面设定指向内存缓冲区的指针，修改读写指令使得其操作缓冲区，大概实现和stdin/stdout差不多即可。
##练习2: 完成基于文件系统的执行程序机制的实现（需要编码）
###设计实现过程
把所有参数字符串复制进栈中，由于此时用户进程的页表已经载入了，所以直接用用户的地址memcpy就好了。然后把argv表复制进去，把argc放在argv的上面，把栈顶设定为argc所在的地址，大功告成。
###问题
>请在实验报告中给出设计实现基于”UNIX的硬链接和软链接机制“的概要设方案，鼓励给出详细设计方案

硬链接：直接将一个`sfs_disk_inode`添加到一个目录的索引表之下即可，并且将这个`sfs_disk_inode`的硬链接数加一
软链接：创建一个新文件，其内容为指向文件的路径，修改sys_open函数，使得其可以探测打开的文件是否是软链接，如果是的话就打开其指向的文件。